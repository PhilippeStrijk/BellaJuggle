{% extends "base.html" %}

{% block content %}
    <section class="shop-container">
        <aside class="filters" aria-label="Product Filters">
            <h3>Filter By</h3>
            <div class="filter-section">
                <details class="filter-dropdown" open>
                    <summary>Price Range</summary>
                    <p></p>
                    <div class="dropdown-content">
                        <div id="price-slider"></div>
                        <div class="price-display">
                            <span id="price-min-display">0</span> - <span id="price-max-display">500</span>
                        </div>
                    </details>
                </div>
                
                <div class="filter-section">
                    <details class="filter-dropdown">
                        <summary>Color</summary>
                        <div class="dropdown-content">
                            <label><input type="checkbox" name="color" value="yellow" /> Yellow</label>
                            <label><input type="checkbox" name="color" value="orange" /> Orange</label>
                            <label><input type="checkbox" name="color" value="green" /> Green</label>
                            <label><input type="checkbox" name="color" value="darkgreen" /> Dark Green</label>
                        </div>
                    </details>
                </div>

                <div class="filter-section">
                    <details class="filter-dropdown">
                        <summary>Category</summary>
                        <div class="dropdown-content">
                            <label><input type="checkbox" name="category" value="fruits" /> Fruits</label>
                            <label><input type="checkbox" name="category" value="vegetables" /> Vegetables</label>
                            <label><input type="checkbox" name="category" value="spices" /> Spices</label>
                        </div>
                    </details>

                                    <div id="cart-message" style="color: green; margin-top: 10px;"></div>

                </div>
            </aside> <div class="main-content">
            <div class="sort-bar" aria-label="Sort Products">
                <label for="sort-select">Sort by:</label>
                <select id="sort-select" name="sort">
                    <option value="default">Default</option>
                    <option value="price-asc">Price: Low to High</option>
                    <option value="price-desc">Price: High to Low</option>
                    <option value="name-asc">Name: A to Z</option>
                    <option value="name-desc">Name: Z to A</option>
                </select>
            </div>

            <section class="products">
                <h2>Shop All Products</h2>
                <div id="products" class="product-list"></div>
                </section>
        </div>
    </section>
{% endblock %}

{% block scripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.0/nouislider.min.js"></script>
    <script src="{{ url_for('static', filename='js/price-sort.js') }}"></script>
    <script src="{{ url_for('static', filename='js/price-filter.js') }}"></script>
{% endblock %}